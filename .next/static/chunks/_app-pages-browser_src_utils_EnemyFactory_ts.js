"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_utils_EnemyFactory_ts"],{

/***/ "(app-pages-browser)/./src/utils/EnemyFactory.ts":
/*!***********************************!*\
  !*** ./src/utils/EnemyFactory.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnemyFactory: function() { return /* binding */ EnemyFactory; }\n/* harmony export */ });\n/* harmony import */ var _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/three-exports */ \"(app-pages-browser)/./src/utils/three-exports.ts\");\n/* harmony import */ var _ecs_components_Transform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/ecs/components/Transform */ \"(app-pages-browser)/./src/ecs/components/Transform.ts\");\n/* harmony import */ var _ecs_components_Health__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/ecs/components/Health */ \"(app-pages-browser)/./src/ecs/components/Health.ts\");\n/* harmony import */ var _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/ecs/components/Enemy */ \"(app-pages-browser)/./src/ecs/components/Enemy.ts\");\n/* harmony import */ var _ecs_components_Collider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/ecs/components/Collider */ \"(app-pages-browser)/./src/ecs/components/Collider.ts\");\n/* harmony import */ var _ecs_components_Renderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/ecs/components/Renderer */ \"(app-pages-browser)/./src/ecs/components/Renderer.ts\");\n/* harmony import */ var _ecs_components_HealthBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/ecs/components/HealthBar */ \"(app-pages-browser)/./src/ecs/components/HealthBar.ts\");\n/* harmony import */ var _utils_ObjectPool__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/ObjectPool */ \"(app-pages-browser)/./src/utils/ObjectPool.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n// Enemy factory for creating and managing enemy entities efficiently\n\n\n\n\n\n\n\n\n\nclass EnemyFactory {\n    initializePools() {\n        if (!this.config.enableObjectPooling) return;\n        this.meshPool = new _utils_ObjectPool__WEBPACK_IMPORTED_MODULE_7__.ObjectPool(()=>new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Mesh(), (mesh)=>{\n            mesh.geometry = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(1, 1, 1);\n            mesh.material = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial();\n            mesh.position.set(0, 0, 0);\n            mesh.rotation.set(0, 0, 0);\n            mesh.scale.set(1, 1, 1);\n            mesh.visible = true;\n            mesh.castShadow = true;\n            mesh.receiveShadow = true;\n        }, this.config.maxPoolSize);\n        this.geometryPool = new _utils_ObjectPool__WEBPACK_IMPORTED_MODULE_7__.ObjectPool(()=>new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(1, 1, 1), (geometry)=>{\n        // Geometries don't need reset\n        }, this.config.maxPoolSize);\n        this.materialPool = new _utils_ObjectPool__WEBPACK_IMPORTED_MODULE_7__.ObjectPool(()=>new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial(), (material)=>{\n            material.color.setHex(0xffffff);\n            material.opacity = 1;\n            material.transparent = false;\n            material.wireframe = false;\n        }, this.config.maxPoolSize);\n    }\n    initializeEnemyConfigs() {\n        this.enemyConfigs = new Map([\n            [\n                _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.DUMMY,\n                {\n                    baseHealth: 500,\n                    size: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(1, 2, 1),\n                    color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x8B4513),\n                    colliderRadius: 1.0 // Increased from 0.6 for easier hitting\n                }\n            ],\n            [\n                _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.GRUNT,\n                {\n                    baseHealth: 500,\n                    size: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(0.8, 1.8, 0.8),\n                    color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0xFF4444),\n                    colliderRadius: 2 // Increased from 0.5 for easier hitting\n                }\n            ],\n            [\n                _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.ELITE,\n                {\n                    baseHealth: 1000,\n                    size: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(1.2, 2.2, 1.2),\n                    color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x4444FF),\n                    colliderRadius: 2 // Increased from 0.7 for easier hitting\n                }\n            ],\n            [\n                _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.BOSS,\n                {\n                    baseHealth: 2000,\n                    size: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(2, 3, 2),\n                    color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x8A2BE2),\n                    colliderRadius: 2 // Increased from 1.2 for easier hitting\n                }\n            ]\n        ]);\n    }\n    createEnemy(spawnConfig) {\n        const entity = this.world.createEntity();\n        const config = this.enemyConfigs.get(spawnConfig.type);\n        const level = spawnConfig.level || 1;\n        const scale = spawnConfig.scale || 1;\n        // Add Transform component\n        const transform = this.world.createComponent(_ecs_components_Transform__WEBPACK_IMPORTED_MODULE_1__.Transform);\n        transform.position.copy(spawnConfig.position);\n        transform.setScale(scale, scale, scale);\n        entity.addComponent(transform);\n        // Add Enemy component\n        const enemy = this.world.createComponent(_ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.Enemy);\n        enemy.type = spawnConfig.type;\n        enemy.level = level;\n        entity.addComponent(enemy);\n        // Add Health component\n        const health = this.world.createComponent(_ecs_components_Health__WEBPACK_IMPORTED_MODULE_2__.Health);\n        const maxHealth = spawnConfig.health || config.baseHealth * level;\n        health.maxHealth = maxHealth;\n        health.currentHealth = maxHealth;\n        // Configure health based on enemy type\n        if (spawnConfig.type === _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.DUMMY) {\n            // Safety check for object pooling issues\n            if (typeof health.enableRegeneration === \"function\") {\n                health.enableRegeneration(10, 2); // Fast regeneration for training dummy\n            } else {\n                console.error(\"Health component missing enableRegeneration method - object pooling issue\", health);\n                // Fallback: manually set regeneration properties\n                health.canRegenerate = true;\n                health.regenerationRate = 10;\n                health.regenerationDelay = 2;\n            }\n        }\n        entity.addComponent(health);\n        // Add Collider component\n        const collider = this.world.createComponent(_ecs_components_Collider__WEBPACK_IMPORTED_MODULE_4__.Collider);\n        collider.type = _ecs_components_Collider__WEBPACK_IMPORTED_MODULE_4__.ColliderType.SPHERE;\n        collider.radius = config.colliderRadius * scale;\n        collider.layer = _ecs_components_Collider__WEBPACK_IMPORTED_MODULE_4__.CollisionLayer.ENEMY;\n        collider.setOffset(0, config.size.y * scale * 0.5, 0); // Center on entity\n        entity.addComponent(collider);\n        // Add Renderer component\n        const renderer = this.world.createComponent(_ecs_components_Renderer__WEBPACK_IMPORTED_MODULE_5__.Renderer);\n        // Use custom renderer for Elite and Boss enemies, and standard mesh for Grunt\n        if (spawnConfig.type === _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.ELITE || spawnConfig.type === _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.BOSS) {\n            // For Elite and Boss enemies, we don't create a mesh here\n            // The EliteEnemyManager and BossEnemyManager will handle the rendering via React Three Fiber\n            renderer.mesh = null;\n            // Ensure no geometry/material is set to prevent RenderSystem from creating a mesh\n            renderer.geometry = null;\n            renderer.material = null;\n        } else if (spawnConfig.type === _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.GRUNT) {\n            // For Grunt enemies, we don't create a mesh here\n            // The GruntEnemyManager will handle the React Three Fiber rendering\n            renderer.mesh = null;\n            // Ensure no geometry/material is set to prevent RenderSystem from creating a mesh\n            renderer.geometry = null;\n            renderer.material = null;\n        } else {\n            // Use standard mesh for other enemy types (like DUMMY)\n            renderer.mesh = this.createEnemyMesh(config, spawnConfig.color || config.color, scale);\n        }\n        if (typeof renderer.setCastShadow === \"function\") {\n            renderer.setCastShadow(true);\n        } else {\n            console.warn(\"⚠️ Renderer component missing setCastShadow method:\", renderer);\n        }\n        if (typeof renderer.setReceiveShadow === \"function\") {\n            renderer.setReceiveShadow(true);\n        } else {\n            console.warn(\"⚠️ Renderer component missing setReceiveShadow method:\", renderer);\n        }\n        entity.addComponent(renderer);\n        // Add HealthBar component if enabled\n        if (this.config.enableHealthBars) {\n            const healthBar = this.world.createComponent(_ecs_components_HealthBar__WEBPACK_IMPORTED_MODULE_6__.HealthBar);\n            const healthBarConfig = {\n                width: Math.max(0.8, config.size.x * scale * 0.8),\n                height: 0.08,\n                offset: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, config.size.y * scale + 1.25, 0),\n                showWhenFull: spawnConfig.type === _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.DUMMY,\n                fadeDistance: 15,\n                ...this.config.healthBarConfig\n            };\n            // Configure health bar colors based on enemy type\n            if (spawnConfig.type === _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.DUMMY) {\n                healthBarConfig.healthColor = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x00AAFF); // Blue for training dummy\n            }\n            // Apply configuration to healthBar\n            healthBar.width = healthBarConfig.width || healthBar.width;\n            healthBar.height = healthBarConfig.height || healthBar.height;\n            if (healthBarConfig.offset) healthBar.offset.copy(healthBarConfig.offset);\n            healthBar.showWhenFull = healthBarConfig.showWhenFull !== undefined ? healthBarConfig.showWhenFull : healthBar.showWhenFull;\n            healthBar.fadeDistance = healthBarConfig.fadeDistance || healthBar.fadeDistance;\n            if (healthBarConfig.healthColor) healthBar.healthColor.copy(healthBarConfig.healthColor);\n            entity.addComponent(healthBar);\n        }\n        console.log(\"\\uD83C\\uDFED Created \".concat(enemy.getDisplayName(), \" (\").concat(spawnConfig.type, \") at position:\"), spawnConfig.position);\n        console.log(\"\\uD83C\\uDFA8 Renderer setup for \".concat(spawnConfig.type, \":\"), {\n            hasMesh: !!renderer.mesh,\n            hasGeometry: !!renderer.geometry,\n            hasMaterial: !!renderer.material\n        });\n        // Notify systems that the entity is ready\n        this.world.notifyEntityAdded(entity);\n        return entity;\n    }\n    createEnemyMesh(config, color, scale) {\n        let geometry;\n        let material;\n        let mesh;\n        if (this.config.enableObjectPooling) {\n            // Use pooled objects\n            geometry = this.geometryPool.acquire();\n            material = this.materialPool.acquire();\n            mesh = this.meshPool.acquire();\n            // Configure geometry\n            geometry.dispose(); // Dispose old geometry\n            geometry = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(config.size.x * scale, config.size.y * scale, config.size.z * scale);\n        } else {\n            // Create new objects\n            geometry = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(config.size.x * scale, config.size.y * scale, config.size.z * scale);\n            material = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial();\n            mesh = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Mesh();\n        }\n        // Configure material\n        material.color.copy(color);\n        material.roughness = 0.7;\n        material.metalness = 0.1;\n        // Configure mesh\n        mesh.geometry = geometry;\n        mesh.material = material;\n        mesh.castShadow = true;\n        mesh.receiveShadow = true;\n        // Add enemy identification for collision detection\n        mesh.name = \"enemy\";\n        mesh.userData.isEnemy = true;\n        // Position mesh so bottom is at transform position\n        mesh.position.y = config.size.y * scale / 2;\n        return mesh;\n    }\n    createEliteEnemyGroup(entityId) {\n        // Create a placeholder group that will be populated by the React component\n        const group = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Group();\n        group.name = \"elite-enemy\";\n        group.userData.isEnemy = true;\n        group.userData.entityId = entityId;\n        // The actual Elite model will be rendered by the EliteEnemyRenderer React component\n        // This group serves as a placeholder and container for the React-rendered content\n        return group;\n    }\n    createTrainingDummy(position) {\n        return this.createEnemy({\n            type: _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.DUMMY,\n            level: 1,\n            position: position.clone(),\n            health: 500,\n            color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x8B4513) // Brown\n        });\n    }\n    createGrunt(position) {\n        let level = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n        return this.createEnemy({\n            type: _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.GRUNT,\n            level,\n            position: position.clone(),\n            color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0xFF4444) // Red\n        });\n    }\n    createElite(position) {\n        let level = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n        return this.createEnemy({\n            type: _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.ELITE,\n            level,\n            position: position.clone(),\n            color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x4444FF) // Blue\n        });\n    }\n    createBoss(position) {\n        let level = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n        return this.createEnemy({\n            type: _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.BOSS,\n            level,\n            position: position.clone(),\n            color: new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Color(0x8A2BE2) // Purple\n        });\n    }\n    spawnEnemiesInCircle(center, radius, count) {\n        let enemyType = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.GRUNT, level = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 1;\n        const enemies = [];\n        const angleStep = Math.PI * 2 / count;\n        for(let i = 0; i < count; i++){\n            const angle = i * angleStep;\n            const position = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(center.x + Math.cos(angle) * radius, center.y, center.z + Math.sin(angle) * radius);\n            const enemy = this.createEnemy({\n                type: enemyType,\n                level,\n                position\n            });\n            enemies.push(enemy);\n        }\n        return enemies;\n    }\n    spawnEnemiesInArea(center, size, count) {\n        let enemyType = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : _ecs_components_Enemy__WEBPACK_IMPORTED_MODULE_3__.EnemyType.GRUNT, level = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 1;\n        const enemies = [];\n        for(let i = 0; i < count; i++){\n            const position = new _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Vector3(center.x + (Math.random() - 0.5) * size.x, center.y, center.z + (Math.random() - 0.5) * size.z);\n            const enemy = this.createEnemy({\n                type: enemyType,\n                level,\n                position\n            });\n            enemies.push(enemy);\n        }\n        return enemies;\n    }\n    releaseEnemy(entity) {\n        if (!this.config.enableObjectPooling) return;\n        const renderer = entity.getComponent(_ecs_components_Renderer__WEBPACK_IMPORTED_MODULE_5__.Renderer);\n        if (renderer && renderer.mesh) {\n            const meshOrGroup = renderer.mesh;\n            // Only handle pooling for regular meshes, not Groups (Elite enemies)\n            if (meshOrGroup instanceof _utils_three_exports__WEBPACK_IMPORTED_MODULE_0__.Mesh) {\n                // Return objects to pools\n                if (meshOrGroup.geometry && this.geometryPool) {\n                    this.geometryPool.release(meshOrGroup.geometry);\n                }\n                if (meshOrGroup.material && this.materialPool) {\n                    this.materialPool.release(meshOrGroup.material);\n                }\n                if (this.meshPool) {\n                    this.meshPool.release(meshOrGroup);\n                }\n            }\n        // Groups (Elite enemies) are handled by their React components and don't use object pooling\n        }\n    }\n    getPoolStats() {\n        if (!this.config.enableObjectPooling) return null;\n        return {\n            meshPool: this.meshPool.getPoolSize(),\n            geometryPool: this.geometryPool.getPoolSize(),\n            materialPool: this.materialPool.getPoolSize()\n        };\n    }\n    dispose() {\n        if (this.config.enableObjectPooling) {\n            var _this_meshPool, _this_geometryPool, _this_materialPool;\n            (_this_meshPool = this.meshPool) === null || _this_meshPool === void 0 ? void 0 : _this_meshPool.clear();\n            (_this_geometryPool = this.geometryPool) === null || _this_geometryPool === void 0 ? void 0 : _this_geometryPool.clear();\n            (_this_materialPool = this.materialPool) === null || _this_materialPool === void 0 ? void 0 : _this_materialPool.clear();\n        }\n    }\n    constructor(world, config = {}){\n        this.world = world;\n        this.config = {\n            enableObjectPooling: config.enableObjectPooling !== false,\n            maxPoolSize: config.maxPoolSize || 50,\n            enableHealthBars: config.enableHealthBars !== false,\n            healthBarConfig: config.healthBarConfig || {}\n        };\n        // Initialize object pools\n        this.initializePools();\n        // Initialize enemy configurations\n        this.initializeEnemyConfigs();\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy91dGlscy9FbmVteUZhY3RvcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxRUFBcUU7QUFDa0M7QUFHaEQ7QUFDTjtBQUNTO0FBQ3lCO0FBQzlCO0FBQ21CO0FBQ3hCO0FBQ3RCO0FBcUJuQixNQUFNaUI7SUFpQ0hDLGtCQUF3QjtRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDQyxNQUFNLENBQUNDLG1CQUFtQixFQUFFO1FBRXRDLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlOLHlEQUFVQSxDQUM1QixJQUFNLElBQUliLHNEQUFJQSxJQUNkLENBQUNvQjtZQUNDQSxLQUFLQyxRQUFRLEdBQUcsSUFBSXBCLDZEQUFXQSxDQUFDLEdBQUcsR0FBRztZQUN0Q21CLEtBQUtFLFFBQVEsR0FBRyxJQUFJcEIsc0VBQW9CQTtZQUN4Q2tCLEtBQUtHLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsR0FBRztZQUN4QkosS0FBS0ssUUFBUSxDQUFDRCxHQUFHLENBQUMsR0FBRyxHQUFHO1lBQ3hCSixLQUFLTSxLQUFLLENBQUNGLEdBQUcsQ0FBQyxHQUFHLEdBQUc7WUFDckJKLEtBQUtPLE9BQU8sR0FBRztZQUNmUCxLQUFLUSxVQUFVLEdBQUc7WUFDbEJSLEtBQUtTLGFBQWEsR0FBRztRQUN2QixHQUNBLElBQUksQ0FBQ1osTUFBTSxDQUFDYSxXQUFXO1FBR3pCLElBQUksQ0FBQ0MsWUFBWSxHQUFHLElBQUlsQix5REFBVUEsQ0FDaEMsSUFBTSxJQUFJWiw2REFBV0EsQ0FBQyxHQUFHLEdBQUcsSUFDNUIsQ0FBQ29CO1FBQ0MsOEJBQThCO1FBQ2hDLEdBQ0EsSUFBSSxDQUFDSixNQUFNLENBQUNhLFdBQVc7UUFHekIsSUFBSSxDQUFDRSxZQUFZLEdBQUcsSUFBSW5CLHlEQUFVQSxDQUNoQyxJQUFNLElBQUlYLHNFQUFvQkEsSUFDOUIsQ0FBQ29CO1lBQ0NBLFNBQVNXLEtBQUssQ0FBQ0MsTUFBTSxDQUFDO1lB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QSxRQUFRLENBQUNzSCxXQUFXO1lBQ25DMUcsY0FBYyxJQUFJLENBQUNBLFlBQVksQ0FBQzBHLFdBQVc7WUFDM0N6RyxjQUFjLElBQUksQ0FBQ0EsWUFBWSxDQUFDeUcsV0FBVztRQUM3QztJQUNGO0lBRU9sQyxVQUFnQjtRQUNyQixJQUFJLElBQUksQ0FBQ3RGLE1BQU0sQ0FBQ0MsbUJBQW1CLEVBQUU7Z0JBQ25DLGdCQUNBLG9CQUNBO2FBRkEscUJBQUksQ0FBQ0MsUUFBUSxjQUFiLG9EQUFldUgsS0FBSzthQUNwQix5QkFBSSxDQUFDM0csWUFBWSxjQUFqQiw0REFBbUIyRyxLQUFLO2FBQ3hCLHlCQUFJLENBQUMxRyxZQUFZLGNBQWpCLDREQUFtQjBHLEtBQUs7UUFDMUI7SUFDRjtJQTlaQUMsWUFBWXhGLEtBQVksRUFBRWxDLFNBQTZCLENBQUMsQ0FBQyxDQUFFO1FBQ3pELElBQUksQ0FBQ2tDLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNsQyxNQUFNLEdBQUc7WUFDWkMscUJBQXFCRCxPQUFPQyxtQkFBbUIsS0FBSztZQUNwRFksYUFBYWIsT0FBT2EsV0FBVyxJQUFJO1lBQ25DcUQsa0JBQWtCbEUsT0FBT2tFLGdCQUFnQixLQUFLO1lBQzlDRSxpQkFBaUJwRSxPQUFPb0UsZUFBZSxJQUFJLENBQUM7UUFDOUM7UUFFQSwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDckUsZUFBZTtRQUVwQixrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDc0Isc0JBQXNCO0lBQzdCO0FBaVpGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9FbmVteUZhY3RvcnkudHM/ZTNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFbmVteSBmYWN0b3J5IGZvciBjcmVhdGluZyBhbmQgbWFuYWdpbmcgZW5lbXkgZW50aXRpZXMgZWZmaWNpZW50bHlcbmltcG9ydCB7IFZlY3RvcjMsIENvbG9yLCBNZXNoLCBCb3hHZW9tZXRyeSwgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsIEdyb3VwIH0gZnJvbSAnQC91dGlscy90aHJlZS1leHBvcnRzJztcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJ0AvZWNzL0VudGl0eSc7XG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gJ0AvZWNzL1dvcmxkJztcbmltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gJ0AvZWNzL2NvbXBvbmVudHMvVHJhbnNmb3JtJztcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gJ0AvZWNzL2NvbXBvbmVudHMvSGVhbHRoJztcbmltcG9ydCB7IEVuZW15LCBFbmVteVR5cGUgfSBmcm9tICdAL2Vjcy9jb21wb25lbnRzL0VuZW15JztcbmltcG9ydCB7IENvbGxpZGVyLCBDb2xsaXNpb25MYXllciwgQ29sbGlkZXJUeXBlIH0gZnJvbSAnQC9lY3MvY29tcG9uZW50cy9Db2xsaWRlcic7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJ0AvZWNzL2NvbXBvbmVudHMvUmVuZGVyZXInO1xuaW1wb3J0IHsgSGVhbHRoQmFyLCBIZWFsdGhCYXJDb25maWcgfSBmcm9tICdAL2Vjcy9jb21wb25lbnRzL0hlYWx0aEJhcic7XG5pbXBvcnQgeyBPYmplY3RQb29sIH0gZnJvbSAnQC91dGlscy9PYmplY3RQb29sJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVSb290IH0gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XG5pbXBvcnQgRWxpdGVFbmVteVJlbmRlcmVyIGZyb20gJ0AvY29tcG9uZW50cy9lbmVtaWVzL0VsaXRlRW5lbXlSZW5kZXJlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5lbXlTcGF3bkNvbmZpZyB7XG4gIHR5cGU6IEVuZW15VHlwZTtcbiAgbGV2ZWw/OiBudW1iZXI7XG4gIHBvc2l0aW9uOiBWZWN0b3IzO1xuICBoZWFsdGg/OiBudW1iZXI7XG4gIHNjYWxlPzogbnVtYmVyO1xuICBjb2xvcj86IENvbG9yO1xuICBjdXN0b21OYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZW15RmFjdG9yeUNvbmZpZyB7XG4gIGVuYWJsZU9iamVjdFBvb2xpbmc/OiBib29sZWFuO1xuICBtYXhQb29sU2l6ZT86IG51bWJlcjtcbiAgZW5hYmxlSGVhbHRoQmFycz86IGJvb2xlYW47XG4gIGhlYWx0aEJhckNvbmZpZz86IEhlYWx0aEJhckNvbmZpZztcbn1cblxuZXhwb3J0IGNsYXNzIEVuZW15RmFjdG9yeSB7XG4gIHByaXZhdGUgd29ybGQ6IFdvcmxkO1xuICBwcml2YXRlIGNvbmZpZzogRW5lbXlGYWN0b3J5Q29uZmlnO1xuICBcbiAgLy8gT2JqZWN0IHBvb2xzIGZvciBwZXJmb3JtYW5jZVxuICBwcml2YXRlIG1lc2hQb29sITogT2JqZWN0UG9vbDxNZXNoPjtcbiAgcHJpdmF0ZSBnZW9tZXRyeVBvb2whOiBPYmplY3RQb29sPEJveEdlb21ldHJ5PjtcbiAgcHJpdmF0ZSBtYXRlcmlhbFBvb2whOiBPYmplY3RQb29sPE1lc2hTdGFuZGFyZE1hdGVyaWFsPjtcbiAgXG4gIC8vIEVuZW15IGNvbmZpZ3VyYXRpb25zXG4gIHByaXZhdGUgZW5lbXlDb25maWdzITogTWFwPEVuZW15VHlwZSwge1xuICAgIGJhc2VIZWFsdGg6IG51bWJlcjtcbiAgICBzaXplOiBWZWN0b3IzO1xuICAgIGNvbG9yOiBDb2xvcjtcbiAgICBjb2xsaWRlclJhZGl1czogbnVtYmVyO1xuICB9PjtcblxuICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQsIGNvbmZpZzogRW5lbXlGYWN0b3J5Q29uZmlnID0ge30pIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBlbmFibGVPYmplY3RQb29saW5nOiBjb25maWcuZW5hYmxlT2JqZWN0UG9vbGluZyAhPT0gZmFsc2UsXG4gICAgICBtYXhQb29sU2l6ZTogY29uZmlnLm1heFBvb2xTaXplIHx8IDUwLFxuICAgICAgZW5hYmxlSGVhbHRoQmFyczogY29uZmlnLmVuYWJsZUhlYWx0aEJhcnMgIT09IGZhbHNlLFxuICAgICAgaGVhbHRoQmFyQ29uZmlnOiBjb25maWcuaGVhbHRoQmFyQ29uZmlnIHx8IHt9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWxpemUgb2JqZWN0IHBvb2xzXG4gICAgdGhpcy5pbml0aWFsaXplUG9vbHMoKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGVuZW15IGNvbmZpZ3VyYXRpb25zXG4gICAgdGhpcy5pbml0aWFsaXplRW5lbXlDb25maWdzKCk7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVQb29scygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZU9iamVjdFBvb2xpbmcpIHJldHVybjtcblxuICAgIHRoaXMubWVzaFBvb2wgPSBuZXcgT2JqZWN0UG9vbChcbiAgICAgICgpID0+IG5ldyBNZXNoKCksXG4gICAgICAobWVzaCkgPT4ge1xuICAgICAgICBtZXNoLmdlb21ldHJ5ID0gbmV3IEJveEdlb21ldHJ5KDEsIDEsIDEpO1xuICAgICAgICBtZXNoLm1hdGVyaWFsID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKCk7XG4gICAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICBtZXNoLnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgbWVzaC5zY2FsZS5zZXQoMSwgMSwgMSk7XG4gICAgICAgIG1lc2gudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIG1lc2guY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIG1lc2gucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICB9LFxuICAgICAgdGhpcy5jb25maWcubWF4UG9vbFNpemUhXG4gICAgKTtcblxuICAgIHRoaXMuZ2VvbWV0cnlQb29sID0gbmV3IE9iamVjdFBvb2woXG4gICAgICAoKSA9PiBuZXcgQm94R2VvbWV0cnkoMSwgMSwgMSksXG4gICAgICAoZ2VvbWV0cnkpID0+IHtcbiAgICAgICAgLy8gR2VvbWV0cmllcyBkb24ndCBuZWVkIHJlc2V0XG4gICAgICB9LFxuICAgICAgdGhpcy5jb25maWcubWF4UG9vbFNpemUhXG4gICAgKTtcblxuICAgIHRoaXMubWF0ZXJpYWxQb29sID0gbmV3IE9iamVjdFBvb2woXG4gICAgICAoKSA9PiBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoKSxcbiAgICAgIChtYXRlcmlhbCkgPT4ge1xuICAgICAgICBtYXRlcmlhbC5jb2xvci5zZXRIZXgoMHhmZmZmZmYpO1xuICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gMTtcbiAgICAgICAgbWF0ZXJpYWwudHJhbnNwYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgbWF0ZXJpYWwud2lyZWZyYW1lID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgdGhpcy5jb25maWcubWF4UG9vbFNpemUhXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUVuZW15Q29uZmlncygpOiB2b2lkIHtcbiAgICB0aGlzLmVuZW15Q29uZmlncyA9IG5ldyBNYXAoW1xuICAgICAgW0VuZW15VHlwZS5EVU1NWSwge1xuICAgICAgICBiYXNlSGVhbHRoOiA1MDAsXG4gICAgICAgIHNpemU6IG5ldyBWZWN0b3IzKDEsIDIsIDEpLFxuICAgICAgICBjb2xvcjogbmV3IENvbG9yKDB4OEI0NTEzKSwgLy8gQnJvd25cbiAgICAgICAgY29sbGlkZXJSYWRpdXM6IDEuMCAgLy8gSW5jcmVhc2VkIGZyb20gMC42IGZvciBlYXNpZXIgaGl0dGluZ1xuICAgICAgfV0sXG4gICAgICBbRW5lbXlUeXBlLkdSVU5ULCB7XG4gICAgICAgIGJhc2VIZWFsdGg6IDUwMCxcbiAgICAgICAgc2l6ZTogbmV3IFZlY3RvcjMoMC44LCAxLjgsIDAuOCksXG4gICAgICAgIGNvbG9yOiBuZXcgQ29sb3IoMHhGRjQ0NDQpLCAvLyBSZWRcbiAgICAgICAgY29sbGlkZXJSYWRpdXM6IDIgIC8vIEluY3JlYXNlZCBmcm9tIDAuNSBmb3IgZWFzaWVyIGhpdHRpbmdcbiAgICAgIH1dLFxuICAgICAgW0VuZW15VHlwZS5FTElURSwge1xuICAgICAgICBiYXNlSGVhbHRoOiAxMDAwLFxuICAgICAgICBzaXplOiBuZXcgVmVjdG9yMygxLjIsIDIuMiwgMS4yKSxcbiAgICAgICAgY29sb3I6IG5ldyBDb2xvcigweDQ0NDRGRiksIC8vIEJsdWVcbiAgICAgICAgY29sbGlkZXJSYWRpdXM6IDIgIC8vIEluY3JlYXNlZCBmcm9tIDAuNyBmb3IgZWFzaWVyIGhpdHRpbmdcbiAgICAgIH1dLFxuICAgICAgW0VuZW15VHlwZS5CT1NTLCB7XG4gICAgICAgIGJhc2VIZWFsdGg6IDIwMDAsXG4gICAgICAgIHNpemU6IG5ldyBWZWN0b3IzKDIsIDMsIDIpLFxuICAgICAgICBjb2xvcjogbmV3IENvbG9yKDB4OEEyQkUyKSwgLy8gUHVycGxlXG4gICAgICAgIGNvbGxpZGVyUmFkaXVzOiAyICAvLyBJbmNyZWFzZWQgZnJvbSAxLjIgZm9yIGVhc2llciBoaXR0aW5nXG4gICAgICB9XVxuICAgIF0pO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUVuZW15KHNwYXduQ29uZmlnOiBFbmVteVNwYXduQ29uZmlnKTogRW50aXR5IHtcbiAgICBjb25zdCBlbnRpdHkgPSB0aGlzLndvcmxkLmNyZWF0ZUVudGl0eSgpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZW5lbXlDb25maWdzLmdldChzcGF3bkNvbmZpZy50eXBlKSE7XG4gICAgY29uc3QgbGV2ZWwgPSBzcGF3bkNvbmZpZy5sZXZlbCB8fCAxO1xuICAgIGNvbnN0IHNjYWxlID0gc3Bhd25Db25maWcuc2NhbGUgfHwgMTtcblxuICAgIC8vIEFkZCBUcmFuc2Zvcm0gY29tcG9uZW50XG4gICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy53b3JsZC5jcmVhdGVDb21wb25lbnQoVHJhbnNmb3JtKTtcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24uY29weShzcGF3bkNvbmZpZy5wb3NpdGlvbik7XG4gICAgdHJhbnNmb3JtLnNldFNjYWxlKHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuICAgIGVudGl0eS5hZGRDb21wb25lbnQodHJhbnNmb3JtKTtcblxuICAgIC8vIEFkZCBFbmVteSBjb21wb25lbnRcbiAgICBjb25zdCBlbmVteSA9IHRoaXMud29ybGQuY3JlYXRlQ29tcG9uZW50KEVuZW15KTtcbiAgICBlbmVteS50eXBlID0gc3Bhd25Db25maWcudHlwZTtcbiAgICBlbmVteS5sZXZlbCA9IGxldmVsO1xuICAgIGVudGl0eS5hZGRDb21wb25lbnQoZW5lbXkpO1xuXG4gICAgLy8gQWRkIEhlYWx0aCBjb21wb25lbnRcbiAgICBjb25zdCBoZWFsdGggPSB0aGlzLndvcmxkLmNyZWF0ZUNvbXBvbmVudChIZWFsdGgpO1xuICAgIGNvbnN0IG1heEhlYWx0aCA9IHNwYXduQ29uZmlnLmhlYWx0aCB8fCAoY29uZmlnLmJhc2VIZWFsdGggKiBsZXZlbCk7XG4gICAgaGVhbHRoLm1heEhlYWx0aCA9IG1heEhlYWx0aDtcbiAgICBoZWFsdGguY3VycmVudEhlYWx0aCA9IG1heEhlYWx0aDtcbiAgICBcbiAgICAvLyBDb25maWd1cmUgaGVhbHRoIGJhc2VkIG9uIGVuZW15IHR5cGVcbiAgICBpZiAoc3Bhd25Db25maWcudHlwZSA9PT0gRW5lbXlUeXBlLkRVTU1ZKSB7XG4gICAgICAvLyBTYWZldHkgY2hlY2sgZm9yIG9iamVjdCBwb29saW5nIGlzc3Vlc1xuICAgICAgaWYgKHR5cGVvZiBoZWFsdGguZW5hYmxlUmVnZW5lcmF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGhlYWx0aC5lbmFibGVSZWdlbmVyYXRpb24oMTAsIDIpOyAvLyBGYXN0IHJlZ2VuZXJhdGlvbiBmb3IgdHJhaW5pbmcgZHVtbXlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0hlYWx0aCBjb21wb25lbnQgbWlzc2luZyBlbmFibGVSZWdlbmVyYXRpb24gbWV0aG9kIC0gb2JqZWN0IHBvb2xpbmcgaXNzdWUnLCBoZWFsdGgpO1xuICAgICAgICAvLyBGYWxsYmFjazogbWFudWFsbHkgc2V0IHJlZ2VuZXJhdGlvbiBwcm9wZXJ0aWVzXG4gICAgICAgIGhlYWx0aC5jYW5SZWdlbmVyYXRlID0gdHJ1ZTtcbiAgICAgICAgaGVhbHRoLnJlZ2VuZXJhdGlvblJhdGUgPSAxMDtcbiAgICAgICAgaGVhbHRoLnJlZ2VuZXJhdGlvbkRlbGF5ID0gMjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZW50aXR5LmFkZENvbXBvbmVudChoZWFsdGgpO1xuXG4gICAgLy8gQWRkIENvbGxpZGVyIGNvbXBvbmVudFxuICAgIGNvbnN0IGNvbGxpZGVyID0gdGhpcy53b3JsZC5jcmVhdGVDb21wb25lbnQoQ29sbGlkZXIpO1xuICAgIGNvbGxpZGVyLnR5cGUgPSBDb2xsaWRlclR5cGUuU1BIRVJFO1xuICAgIGNvbGxpZGVyLnJhZGl1cyA9IGNvbmZpZy5jb2xsaWRlclJhZGl1cyAqIHNjYWxlO1xuICAgIGNvbGxpZGVyLmxheWVyID0gQ29sbGlzaW9uTGF5ZXIuRU5FTVk7XG4gICAgY29sbGlkZXIuc2V0T2Zmc2V0KDAsIGNvbmZpZy5zaXplLnkgKiBzY2FsZSAqIDAuNSwgMCk7IC8vIENlbnRlciBvbiBlbnRpdHlcbiAgICBlbnRpdHkuYWRkQ29tcG9uZW50KGNvbGxpZGVyKTtcblxuICAgIC8vIEFkZCBSZW5kZXJlciBjb21wb25lbnRcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMud29ybGQuY3JlYXRlQ29tcG9uZW50KFJlbmRlcmVyKTtcbiAgICBcbiAgICAvLyBVc2UgY3VzdG9tIHJlbmRlcmVyIGZvciBFbGl0ZSBhbmQgQm9zcyBlbmVtaWVzLCBhbmQgc3RhbmRhcmQgbWVzaCBmb3IgR3J1bnRcbiAgICBpZiAoc3Bhd25Db25maWcudHlwZSA9PT0gRW5lbXlUeXBlLkVMSVRFIHx8IHNwYXduQ29uZmlnLnR5cGUgPT09IEVuZW15VHlwZS5CT1NTKSB7XG4gICAgICAvLyBGb3IgRWxpdGUgYW5kIEJvc3MgZW5lbWllcywgd2UgZG9uJ3QgY3JlYXRlIGEgbWVzaCBoZXJlXG4gICAgICAvLyBUaGUgRWxpdGVFbmVteU1hbmFnZXIgYW5kIEJvc3NFbmVteU1hbmFnZXIgd2lsbCBoYW5kbGUgdGhlIHJlbmRlcmluZyB2aWEgUmVhY3QgVGhyZWUgRmliZXJcbiAgICAgIHJlbmRlcmVyLm1lc2ggPSBudWxsO1xuICAgICAgLy8gRW5zdXJlIG5vIGdlb21ldHJ5L21hdGVyaWFsIGlzIHNldCB0byBwcmV2ZW50IFJlbmRlclN5c3RlbSBmcm9tIGNyZWF0aW5nIGEgbWVzaFxuICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgcmVuZGVyZXIubWF0ZXJpYWwgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoc3Bhd25Db25maWcudHlwZSA9PT0gRW5lbXlUeXBlLkdSVU5UKSB7XG4gICAgICAvLyBGb3IgR3J1bnQgZW5lbWllcywgd2UgZG9uJ3QgY3JlYXRlIGEgbWVzaCBoZXJlXG4gICAgICAvLyBUaGUgR3J1bnRFbmVteU1hbmFnZXIgd2lsbCBoYW5kbGUgdGhlIFJlYWN0IFRocmVlIEZpYmVyIHJlbmRlcmluZ1xuICAgICAgcmVuZGVyZXIubWVzaCA9IG51bGw7XG4gICAgICAvLyBFbnN1cmUgbm8gZ2VvbWV0cnkvbWF0ZXJpYWwgaXMgc2V0IHRvIHByZXZlbnQgUmVuZGVyU3lzdGVtIGZyb20gY3JlYXRpbmcgYSBtZXNoXG4gICAgICByZW5kZXJlci5nZW9tZXRyeSA9IG51bGw7XG4gICAgICByZW5kZXJlci5tYXRlcmlhbCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVzZSBzdGFuZGFyZCBtZXNoIGZvciBvdGhlciBlbmVteSB0eXBlcyAobGlrZSBEVU1NWSlcbiAgICAgIHJlbmRlcmVyLm1lc2ggPSB0aGlzLmNyZWF0ZUVuZW15TWVzaChjb25maWcsIHNwYXduQ29uZmlnLmNvbG9yIHx8IGNvbmZpZy5jb2xvciwgc2NhbGUpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodHlwZW9mIHJlbmRlcmVyLnNldENhc3RTaGFkb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlbmRlcmVyLnNldENhc3RTaGFkb3codHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFJlbmRlcmVyIGNvbXBvbmVudCBtaXNzaW5nIHNldENhc3RTaGFkb3cgbWV0aG9kOicsIHJlbmRlcmVyKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZiByZW5kZXJlci5zZXRSZWNlaXZlU2hhZG93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZW5kZXJlci5zZXRSZWNlaXZlU2hhZG93KHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBSZW5kZXJlciBjb21wb25lbnQgbWlzc2luZyBzZXRSZWNlaXZlU2hhZG93IG1ldGhvZDonLCByZW5kZXJlcik7XG4gICAgfVxuICAgIGVudGl0eS5hZGRDb21wb25lbnQocmVuZGVyZXIpO1xuXG4gICAgLy8gQWRkIEhlYWx0aEJhciBjb21wb25lbnQgaWYgZW5hYmxlZFxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVIZWFsdGhCYXJzKSB7XG4gICAgICBjb25zdCBoZWFsdGhCYXIgPSB0aGlzLndvcmxkLmNyZWF0ZUNvbXBvbmVudChIZWFsdGhCYXIpO1xuICAgICAgY29uc3QgaGVhbHRoQmFyQ29uZmlnOiBIZWFsdGhCYXJDb25maWcgPSB7XG4gICAgICAgIHdpZHRoOiBNYXRoLm1heCgwLjgsIGNvbmZpZy5zaXplLnggKiBzY2FsZSAqIDAuOCksXG4gICAgICAgIGhlaWdodDogMC4wOCxcbiAgICAgICAgb2Zmc2V0OiBuZXcgVmVjdG9yMygwLCBjb25maWcuc2l6ZS55ICogc2NhbGUgKyAxLjI1LCAwKSxcbiAgICAgICAgc2hvd1doZW5GdWxsOiBzcGF3bkNvbmZpZy50eXBlID09PSBFbmVteVR5cGUuRFVNTVksIC8vIEFsd2F5cyBzaG93IGZvciB0cmFpbmluZyBkdW1teVxuICAgICAgICBmYWRlRGlzdGFuY2U6IDE1LFxuICAgICAgICAuLi50aGlzLmNvbmZpZy5oZWFsdGhCYXJDb25maWdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIENvbmZpZ3VyZSBoZWFsdGggYmFyIGNvbG9ycyBiYXNlZCBvbiBlbmVteSB0eXBlXG4gICAgICBpZiAoc3Bhd25Db25maWcudHlwZSA9PT0gRW5lbXlUeXBlLkRVTU1ZKSB7XG4gICAgICAgIGhlYWx0aEJhckNvbmZpZy5oZWFsdGhDb2xvciA9IG5ldyBDb2xvcigweDAwQUFGRik7IC8vIEJsdWUgZm9yIHRyYWluaW5nIGR1bW15XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFwcGx5IGNvbmZpZ3VyYXRpb24gdG8gaGVhbHRoQmFyXG4gICAgICBoZWFsdGhCYXIud2lkdGggPSBoZWFsdGhCYXJDb25maWcud2lkdGggfHwgaGVhbHRoQmFyLndpZHRoO1xuICAgICAgaGVhbHRoQmFyLmhlaWdodCA9IGhlYWx0aEJhckNvbmZpZy5oZWlnaHQgfHwgaGVhbHRoQmFyLmhlaWdodDtcbiAgICAgIGlmIChoZWFsdGhCYXJDb25maWcub2Zmc2V0KSBoZWFsdGhCYXIub2Zmc2V0LmNvcHkoaGVhbHRoQmFyQ29uZmlnLm9mZnNldCk7XG4gICAgICBoZWFsdGhCYXIuc2hvd1doZW5GdWxsID0gaGVhbHRoQmFyQ29uZmlnLnNob3dXaGVuRnVsbCAhPT0gdW5kZWZpbmVkID8gaGVhbHRoQmFyQ29uZmlnLnNob3dXaGVuRnVsbCA6IGhlYWx0aEJhci5zaG93V2hlbkZ1bGw7XG4gICAgICBoZWFsdGhCYXIuZmFkZURpc3RhbmNlID0gaGVhbHRoQmFyQ29uZmlnLmZhZGVEaXN0YW5jZSB8fCBoZWFsdGhCYXIuZmFkZURpc3RhbmNlO1xuICAgICAgaWYgKGhlYWx0aEJhckNvbmZpZy5oZWFsdGhDb2xvcikgaGVhbHRoQmFyLmhlYWx0aENvbG9yLmNvcHkoaGVhbHRoQmFyQ29uZmlnLmhlYWx0aENvbG9yKTtcbiAgICAgIFxuICAgICAgZW50aXR5LmFkZENvbXBvbmVudChoZWFsdGhCYXIpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGDwn4+tIENyZWF0ZWQgJHtlbmVteS5nZXREaXNwbGF5TmFtZSgpfSAoJHtzcGF3bkNvbmZpZy50eXBlfSkgYXQgcG9zaXRpb246YCwgc3Bhd25Db25maWcucG9zaXRpb24pO1xuICAgIGNvbnNvbGUubG9nKGDwn46oIFJlbmRlcmVyIHNldHVwIGZvciAke3NwYXduQ29uZmlnLnR5cGV9OmAsIHtcbiAgICAgIGhhc01lc2g6ICEhcmVuZGVyZXIubWVzaCxcbiAgICAgIGhhc0dlb21ldHJ5OiAhIXJlbmRlcmVyLmdlb21ldHJ5LFxuICAgICAgaGFzTWF0ZXJpYWw6ICEhcmVuZGVyZXIubWF0ZXJpYWxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBOb3RpZnkgc3lzdGVtcyB0aGF0IHRoZSBlbnRpdHkgaXMgcmVhZHlcbiAgICB0aGlzLndvcmxkLm5vdGlmeUVudGl0eUFkZGVkKGVudGl0eSk7XG4gICAgXG4gICAgcmV0dXJuIGVudGl0eTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRW5lbXlNZXNoKFxuICAgIGNvbmZpZzogeyBzaXplOiBWZWN0b3IzOyBjb2xvcjogQ29sb3IgfSwgXG4gICAgY29sb3I6IENvbG9yLCBcbiAgICBzY2FsZTogbnVtYmVyXG4gICk6IE1lc2gge1xuICAgIGxldCBnZW9tZXRyeTogQm94R2VvbWV0cnk7XG4gICAgbGV0IG1hdGVyaWFsOiBNZXNoU3RhbmRhcmRNYXRlcmlhbDtcbiAgICBsZXQgbWVzaDogTWVzaDtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVPYmplY3RQb29saW5nKSB7XG4gICAgICAvLyBVc2UgcG9vbGVkIG9iamVjdHNcbiAgICAgIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeVBvb2wuYWNxdWlyZSgpO1xuICAgICAgbWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsUG9vbC5hY3F1aXJlKCk7XG4gICAgICBtZXNoID0gdGhpcy5tZXNoUG9vbC5hY3F1aXJlKCk7XG4gICAgICBcbiAgICAgIC8vIENvbmZpZ3VyZSBnZW9tZXRyeVxuICAgICAgZ2VvbWV0cnkuZGlzcG9zZSgpOyAvLyBEaXNwb3NlIG9sZCBnZW9tZXRyeVxuICAgICAgZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoXG4gICAgICAgIGNvbmZpZy5zaXplLnggKiBzY2FsZSxcbiAgICAgICAgY29uZmlnLnNpemUueSAqIHNjYWxlLFxuICAgICAgICBjb25maWcuc2l6ZS56ICogc2NhbGVcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgb2JqZWN0c1xuICAgICAgZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoXG4gICAgICAgIGNvbmZpZy5zaXplLnggKiBzY2FsZSxcbiAgICAgICAgY29uZmlnLnNpemUueSAqIHNjYWxlLFxuICAgICAgICBjb25maWcuc2l6ZS56ICogc2NhbGVcbiAgICAgICk7XG4gICAgICBtYXRlcmlhbCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCgpO1xuICAgICAgbWVzaCA9IG5ldyBNZXNoKCk7XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIG1hdGVyaWFsXG4gICAgbWF0ZXJpYWwuY29sb3IuY29weShjb2xvcik7XG4gICAgbWF0ZXJpYWwucm91Z2huZXNzID0gMC43O1xuICAgIG1hdGVyaWFsLm1ldGFsbmVzcyA9IDAuMTtcblxuICAgIC8vIENvbmZpZ3VyZSBtZXNoXG4gICAgbWVzaC5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgIG1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICBtZXNoLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIG1lc2gucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgXG4gICAgLy8gQWRkIGVuZW15IGlkZW50aWZpY2F0aW9uIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uXG4gICAgbWVzaC5uYW1lID0gJ2VuZW15JztcbiAgICBtZXNoLnVzZXJEYXRhLmlzRW5lbXkgPSB0cnVlO1xuXG4gICAgLy8gUG9zaXRpb24gbWVzaCBzbyBib3R0b20gaXMgYXQgdHJhbnNmb3JtIHBvc2l0aW9uXG4gICAgbWVzaC5wb3NpdGlvbi55ID0gKGNvbmZpZy5zaXplLnkgKiBzY2FsZSkgLyAyO1xuXG4gICAgcmV0dXJuIG1lc2g7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUVsaXRlRW5lbXlHcm91cChlbnRpdHlJZDogbnVtYmVyKTogR3JvdXAge1xuICAgIC8vIENyZWF0ZSBhIHBsYWNlaG9sZGVyIGdyb3VwIHRoYXQgd2lsbCBiZSBwb3B1bGF0ZWQgYnkgdGhlIFJlYWN0IGNvbXBvbmVudFxuICAgIGNvbnN0IGdyb3VwID0gbmV3IEdyb3VwKCk7XG4gICAgZ3JvdXAubmFtZSA9ICdlbGl0ZS1lbmVteSc7XG4gICAgZ3JvdXAudXNlckRhdGEuaXNFbmVteSA9IHRydWU7XG4gICAgZ3JvdXAudXNlckRhdGEuZW50aXR5SWQgPSBlbnRpdHlJZDtcbiAgICBcbiAgICAvLyBUaGUgYWN0dWFsIEVsaXRlIG1vZGVsIHdpbGwgYmUgcmVuZGVyZWQgYnkgdGhlIEVsaXRlRW5lbXlSZW5kZXJlciBSZWFjdCBjb21wb25lbnRcbiAgICAvLyBUaGlzIGdyb3VwIHNlcnZlcyBhcyBhIHBsYWNlaG9sZGVyIGFuZCBjb250YWluZXIgZm9yIHRoZSBSZWFjdC1yZW5kZXJlZCBjb250ZW50XG4gICAgXG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZVRyYWluaW5nRHVtbXkocG9zaXRpb246IFZlY3RvcjMpOiBFbnRpdHkge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZUVuZW15KHtcbiAgICAgIHR5cGU6IEVuZW15VHlwZS5EVU1NWSxcbiAgICAgIGxldmVsOiAxLFxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLmNsb25lKCksXG4gICAgICBoZWFsdGg6IDUwMCxcbiAgICAgIGNvbG9yOiBuZXcgQ29sb3IoMHg4QjQ1MTMpIC8vIEJyb3duXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlR3J1bnQocG9zaXRpb246IFZlY3RvcjMsIGxldmVsOiBudW1iZXIgPSAxKTogRW50aXR5IHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVFbmVteSh7XG4gICAgICB0eXBlOiBFbmVteVR5cGUuR1JVTlQsXG4gICAgICBsZXZlbCxcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbi5jbG9uZSgpLFxuICAgICAgY29sb3I6IG5ldyBDb2xvcigweEZGNDQ0NCkgLy8gUmVkXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlRWxpdGUocG9zaXRpb246IFZlY3RvcjMsIGxldmVsOiBudW1iZXIgPSAxKTogRW50aXR5IHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVFbmVteSh7XG4gICAgICB0eXBlOiBFbmVteVR5cGUuRUxJVEUsXG4gICAgICBsZXZlbCxcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbi5jbG9uZSgpLFxuICAgICAgY29sb3I6IG5ldyBDb2xvcigweDQ0NDRGRikgLy8gQmx1ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUJvc3MocG9zaXRpb246IFZlY3RvcjMsIGxldmVsOiBudW1iZXIgPSAxKTogRW50aXR5IHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVFbmVteSh7XG4gICAgICB0eXBlOiBFbmVteVR5cGUuQk9TUyxcbiAgICAgIGxldmVsLFxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLmNsb25lKCksXG4gICAgICBjb2xvcjogbmV3IENvbG9yKDB4OEEyQkUyKSAvLyBQdXJwbGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBzcGF3bkVuZW1pZXNJbkNpcmNsZShcbiAgICBjZW50ZXI6IFZlY3RvcjMsXG4gICAgcmFkaXVzOiBudW1iZXIsXG4gICAgY291bnQ6IG51bWJlcixcbiAgICBlbmVteVR5cGU6IEVuZW15VHlwZSA9IEVuZW15VHlwZS5HUlVOVCxcbiAgICBsZXZlbDogbnVtYmVyID0gMVxuICApOiBFbnRpdHlbXSB7XG4gICAgY29uc3QgZW5lbWllczogRW50aXR5W10gPSBbXTtcbiAgICBjb25zdCBhbmdsZVN0ZXAgPSAoTWF0aC5QSSAqIDIpIC8gY291bnQ7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGFuZ2xlID0gaSAqIGFuZ2xlU3RlcDtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFZlY3RvcjMoXG4gICAgICAgIGNlbnRlci54ICsgTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLFxuICAgICAgICBjZW50ZXIueSxcbiAgICAgICAgY2VudGVyLnogKyBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXNcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGVuZW15ID0gdGhpcy5jcmVhdGVFbmVteSh7XG4gICAgICAgIHR5cGU6IGVuZW15VHlwZSxcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIHBvc2l0aW9uXG4gICAgICB9KTtcblxuICAgICAgZW5lbWllcy5wdXNoKGVuZW15KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5lbWllcztcbiAgfVxuXG4gIHB1YmxpYyBzcGF3bkVuZW1pZXNJbkFyZWEoXG4gICAgY2VudGVyOiBWZWN0b3IzLFxuICAgIHNpemU6IFZlY3RvcjMsXG4gICAgY291bnQ6IG51bWJlcixcbiAgICBlbmVteVR5cGU6IEVuZW15VHlwZSA9IEVuZW15VHlwZS5HUlVOVCxcbiAgICBsZXZlbDogbnVtYmVyID0gMVxuICApOiBFbnRpdHlbXSB7XG4gICAgY29uc3QgZW5lbWllczogRW50aXR5W10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBuZXcgVmVjdG9yMyhcbiAgICAgICAgY2VudGVyLnggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBzaXplLngsXG4gICAgICAgIGNlbnRlci55LFxuICAgICAgICBjZW50ZXIueiArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHNpemUuelxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW5lbXkgPSB0aGlzLmNyZWF0ZUVuZW15KHtcbiAgICAgICAgdHlwZTogZW5lbXlUeXBlLFxuICAgICAgICBsZXZlbCxcbiAgICAgICAgcG9zaXRpb25cbiAgICAgIH0pO1xuXG4gICAgICBlbmVtaWVzLnB1c2goZW5lbXkpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmVtaWVzO1xuICB9XG5cbiAgcHVibGljIHJlbGVhc2VFbmVteShlbnRpdHk6IEVudGl0eSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcuZW5hYmxlT2JqZWN0UG9vbGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVuZGVyZXIgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFJlbmRlcmVyKTtcbiAgICBpZiAocmVuZGVyZXIgJiYgcmVuZGVyZXIubWVzaCkge1xuICAgICAgY29uc3QgbWVzaE9yR3JvdXAgPSByZW5kZXJlci5tZXNoO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGhhbmRsZSBwb29saW5nIGZvciByZWd1bGFyIG1lc2hlcywgbm90IEdyb3VwcyAoRWxpdGUgZW5lbWllcylcbiAgICAgIGlmIChtZXNoT3JHcm91cCBpbnN0YW5jZW9mIE1lc2gpIHtcbiAgICAgICAgLy8gUmV0dXJuIG9iamVjdHMgdG8gcG9vbHNcbiAgICAgICAgaWYgKG1lc2hPckdyb3VwLmdlb21ldHJ5ICYmIHRoaXMuZ2VvbWV0cnlQb29sKSB7XG4gICAgICAgICAgdGhpcy5nZW9tZXRyeVBvb2wucmVsZWFzZShtZXNoT3JHcm91cC5nZW9tZXRyeSBhcyBCb3hHZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc2hPckdyb3VwLm1hdGVyaWFsICYmIHRoaXMubWF0ZXJpYWxQb29sKSB7XG4gICAgICAgICAgdGhpcy5tYXRlcmlhbFBvb2wucmVsZWFzZShtZXNoT3JHcm91cC5tYXRlcmlhbCBhcyBNZXNoU3RhbmRhcmRNYXRlcmlhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWVzaFBvb2wpIHtcbiAgICAgICAgICB0aGlzLm1lc2hQb29sLnJlbGVhc2UobWVzaE9yR3JvdXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBHcm91cHMgKEVsaXRlIGVuZW1pZXMpIGFyZSBoYW5kbGVkIGJ5IHRoZWlyIFJlYWN0IGNvbXBvbmVudHMgYW5kIGRvbid0IHVzZSBvYmplY3QgcG9vbGluZ1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRQb29sU3RhdHMoKToge1xuICAgIG1lc2hQb29sOiBudW1iZXI7XG4gICAgZ2VvbWV0cnlQb29sOiBudW1iZXI7XG4gICAgbWF0ZXJpYWxQb29sOiBudW1iZXI7XG4gIH0gfCBudWxsIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZU9iamVjdFBvb2xpbmcpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc2hQb29sOiB0aGlzLm1lc2hQb29sLmdldFBvb2xTaXplKCksXG4gICAgICBnZW9tZXRyeVBvb2w6IHRoaXMuZ2VvbWV0cnlQb29sLmdldFBvb2xTaXplKCksXG4gICAgICBtYXRlcmlhbFBvb2w6IHRoaXMubWF0ZXJpYWxQb29sLmdldFBvb2xTaXplKClcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZU9iamVjdFBvb2xpbmcpIHtcbiAgICAgIHRoaXMubWVzaFBvb2w/LmNsZWFyKCk7XG4gICAgICB0aGlzLmdlb21ldHJ5UG9vbD8uY2xlYXIoKTtcbiAgICAgIHRoaXMubWF0ZXJpYWxQb29sPy5jbGVhcigpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIlZlY3RvcjMiLCJDb2xvciIsIk1lc2giLCJCb3hHZW9tZXRyeSIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiR3JvdXAiLCJUcmFuc2Zvcm0iLCJIZWFsdGgiLCJFbmVteSIsIkVuZW15VHlwZSIsIkNvbGxpZGVyIiwiQ29sbGlzaW9uTGF5ZXIiLCJDb2xsaWRlclR5cGUiLCJSZW5kZXJlciIsIkhlYWx0aEJhciIsIk9iamVjdFBvb2wiLCJSZWFjdCIsIkVuZW15RmFjdG9yeSIsImluaXRpYWxpemVQb29scyIsImNvbmZpZyIsImVuYWJsZU9iamVjdFBvb2xpbmciLCJtZXNoUG9vbCIsIm1lc2giLCJnZW9tZXRyeSIsIm1hdGVyaWFsIiwicG9zaXRpb24iLCJzZXQiLCJyb3RhdGlvbiIsInNjYWxlIiwidmlzaWJsZSIsImNhc3RTaGFkb3ciLCJyZWNlaXZlU2hhZG93IiwibWF4UG9vbFNpemUiLCJnZW9tZXRyeVBvb2wiLCJtYXRlcmlhbFBvb2wiLCJjb2xvciIsInNldEhleCIsIm9wYWNpdHkiLCJ0cmFuc3BhcmVudCIsIndpcmVmcmFtZSIsImluaXRpYWxpemVFbmVteUNvbmZpZ3MiLCJlbmVteUNvbmZpZ3MiLCJNYXAiLCJEVU1NWSIsImJhc2VIZWFsdGgiLCJzaXplIiwiY29sbGlkZXJSYWRpdXMiLCJHUlVOVCIsIkVMSVRFIiwiQk9TUyIsImNyZWF0ZUVuZW15Iiwic3Bhd25Db25maWciLCJlbnRpdHkiLCJ3b3JsZCIsImNyZWF0ZUVudGl0eSIsImdldCIsInR5cGUiLCJsZXZlbCIsInRyYW5zZm9ybSIsImNyZWF0ZUNvbXBvbmVudCIsImNvcHkiLCJzZXRTY2FsZSIsImFkZENvbXBvbmVudCIsImVuZW15IiwiaGVhbHRoIiwibWF4SGVhbHRoIiwiY3VycmVudEhlYWx0aCIsImVuYWJsZVJlZ2VuZXJhdGlvbiIsImNvbnNvbGUiLCJlcnJvciIsImNhblJlZ2VuZXJhdGUiLCJyZWdlbmVyYXRpb25SYXRlIiwicmVnZW5lcmF0aW9uRGVsYXkiLCJjb2xsaWRlciIsIlNQSEVSRSIsInJhZGl1cyIsImxheWVyIiwiRU5FTVkiLCJzZXRPZmZzZXQiLCJ5IiwicmVuZGVyZXIiLCJjcmVhdGVFbmVteU1lc2giLCJzZXRDYXN0U2hhZG93Iiwid2FybiIsInNldFJlY2VpdmVTaGFkb3ciLCJlbmFibGVIZWFsdGhCYXJzIiwiaGVhbHRoQmFyIiwiaGVhbHRoQmFyQ29uZmlnIiwid2lkdGgiLCJNYXRoIiwibWF4IiwieCIsImhlaWdodCIsIm9mZnNldCIsInNob3dXaGVuRnVsbCIsImZhZGVEaXN0YW5jZSIsImhlYWx0aENvbG9yIiwidW5kZWZpbmVkIiwibG9nIiwiZ2V0RGlzcGxheU5hbWUiLCJoYXNNZXNoIiwiaGFzR2VvbWV0cnkiLCJoYXNNYXRlcmlhbCIsIm5vdGlmeUVudGl0eUFkZGVkIiwiYWNxdWlyZSIsImRpc3Bvc2UiLCJ6Iiwicm91Z2huZXNzIiwibWV0YWxuZXNzIiwibmFtZSIsInVzZXJEYXRhIiwiaXNFbmVteSIsImNyZWF0ZUVsaXRlRW5lbXlHcm91cCIsImVudGl0eUlkIiwiZ3JvdXAiLCJjcmVhdGVUcmFpbmluZ0R1bW15IiwiY2xvbmUiLCJjcmVhdGVHcnVudCIsImNyZWF0ZUVsaXRlIiwiY3JlYXRlQm9zcyIsInNwYXduRW5lbWllc0luQ2lyY2xlIiwiY2VudGVyIiwiY291bnQiLCJlbmVteVR5cGUiLCJlbmVtaWVzIiwiYW5nbGVTdGVwIiwiUEkiLCJpIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJwdXNoIiwic3Bhd25FbmVtaWVzSW5BcmVhIiwicmFuZG9tIiwicmVsZWFzZUVuZW15IiwiZ2V0Q29tcG9uZW50IiwibWVzaE9yR3JvdXAiLCJyZWxlYXNlIiwiZ2V0UG9vbFN0YXRzIiwiZ2V0UG9vbFNpemUiLCJjbGVhciIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/utils/EnemyFactory.ts\n"));

/***/ })

}]);